blueprint:
  name: On/Off Automation
  description: |
    Define an ON and an OFF situation.
    For each situation you choose:
    - IF this happens
    - THEN run these actions.
  domain: automation
  input:
    on_if:
      name: IF (ON)
      description: When should the ON action run?
      default: []
      selector:
        trigger: {}
    on_then:
      name: THEN (ON)
      description: Which actions should run when ON is triggered?
      default: []
      selector:
        action: {}

    off_if:
      name: IF (OFF)
      description: When should the OFF action run?
      default: []
      selector:
        trigger: {}
    off_then:
      name: THEN (OFF)
      description: Which actions should run when OFF is triggered?
      default: []
      selector:
        action: {}

mode: single

trigger:
  - id: on
    !input on_if
  - id: off
    !input off_if

action:
  - choose:
      - conditions:
          - condition: trigger
            id: on
        sequence: !input on_then
      - conditions:
          - condition: trigger
            id: off
        sequence: !input off_then